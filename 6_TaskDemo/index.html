<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task Manager</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body>
    <nav class="navbar navbar-light bg-danger">
        <div class="container-fluid">
            <button class="btn btn-warning me-2" type="button">Task Manager</button>
            <button class="btn btn-warning d-flex" type="submit">Sign-in</button>
        </div>
    </nav>
    <br><br>
    <div class="container" style="margin-bottom: 2%;">
        <div class="row" id="taskLists">
            <div class="col-md-6 col-sm">
                <div class="card">
                    <div class="card-body" style="height :65vh;overflow: scroll;">
                        <div class="row row-cols-2" id="data">

                        </div>
                    </div>
                </div>
            </div>
            <div class=" col-md-4 col-sm">
                <div class="card">
                    <div class="card-body">
                        <form onsubmit="event.preventDefault();onFormSubmit();" autocomplete="off" id="exampleModal">
                            <div class="mb-3">
                                <label for="title" class="form-label">Enter Task Title</label>
                                <input type="text" class="form-control" name="title" id="title"
                                    placeholder="Should do Maths Assignment">
                            </div>

                            <div class="mb-3">
                                <label for="summary" class="form-label">Task Summary</label>
                                <textarea class="form-control" name="summary" id="summary" rows="2"></textarea>
                            </div>
                            <div class="mb-3">
                                <label for="date" class="form-label">Date</label>
                                <input type="date" name="date" class="form-control" id="date">
                            </div>
                            <div class="mb-3">
                                <label for="time" class="form-label">Time</label>
                                <input type="time" name="time" class="form-control" id="time">
                            </div>
                            <button type="submit" value="Submit" class="btn btn-success">Create Task</button>

                        </form>
                    </div>
                </div>
            </div>
            <div class=" col-md-2 col-sm"> <button type="button" class="btn btn-dark btn-lg">Update Task</button>
                <div id="formdatasubmit">

                </div>
            </div>
        </div>

    </div>
    <div class="container" style="margin-bottom: 3%;">
        <div class="row">
            <div class=" col-md-4 col-sm">
                <button type="button" class="btn btn-dark btn-lg">Task Scheduler</button>
                <div class="card" style="background-color: rgb(235, 172, 206);color:rgb(12, 11, 11);margin-top: 3%;">
                    <div class="card-header">Date : 12/06/2000 <a href="#"
                            class="btn btn-light btn-sm float-lg-end">Open Task</a></div>
                    <div class="card-body">
                        <h5 class="card-title">Task title : ABCD</h5>
                        <p class="card-text">Task Manager, previously known as Windows Task Manager.</p>

                    </div>
                    <div class="card-footer bg-transparent">Last Updated 2 mts. ago</div>
                </div>
            </div>
            <div class="col-md-6 col-sm">
                <button type="button" class="btn btn-dark btn-lg">Summary</button>
                <div class="card" style="margin-top: 3%;">
                    <div class="card-body">
                        <div class="row">
                            <div class="col-6">
                                <div class="mb-3 row">
                                    <label for="inputdate" class="col-sm-4 col-form-label">Date</label>
                                    <div class="col-sm-8">
                                        <input type="date" class="form-control" id="inputdate">
                                    </div>
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="mb-3 row">
                                    <label for="inputdate" class="col-sm-4 col-form-label">Time</label>
                                    <div class="col-sm-8">
                                        <input type="time" class="form-control" id="inputdate">
                                    </div>
                                </div>
                            </div>
                        </div>

                        <button type="button" class="btn btn-success">Set Scheduler</button>
                    </div>
                </div>
            </div>
            <div class=" col-md-2 col-sm">
                <button type="button" class="btn btn-dark btn-lg">Update Scheduler</button>
            </div>
        </div>

    </div>

</body>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="script.js"></script>
<script>
    var taskLists;
    var xhttp = new XMLHttpRequest();
    var obj = this;
    xhttp.onreadystatechange = function () {
        if (this.readyState == 4 && this.status == 200) {
            taskLists = JSON.parse(xhttp.response);
            obj.displayTasks();
        }
    };
    console.log("heyy!!");
    xhttp.open("GET", "http://localhost:3000/tasks");
    console.log("yoooo");
    xhttp.send();
</script>

</html>